<?xml version="1.0" encoding="UTF-8"?>
<description:Group xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:description="http://www.obeo.fr/dsl/viewpoint/description/1.1.0" xmlns:style="http://www.obeo.fr/dsl/viewpoint/description/style/1.1.0" xmlns:tool="http://www.obeo.fr/dsl/viewpoint/description/tool/1.1.0" name="arduino" version="6.7.0.201302071200">
  <ownedViewpoints name="Hardware Kit" modelFileExtension="arduino">
    <ownedRepresentations xsi:type="description:DiagramDescription" name="Hardware Kit Definition" domainClass="arduino.Project">
      <metamodel href="../../fr.obeo.dsl.arduino/model/arduino.ecore#/"/>
      <defaultLayer name="Default">
        <nodeMappings name="HL_InputModule" labelDirectEdit="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Named%20Element']" domainClass="arduino.InputModule">
          <style xsi:type="style:WorkspaceImageDescription" labelFormat="bold" showIcon="false" sizeComputationExpression="6" resizeKind="NSEW" workspacePath="/fr.obeo.dsl.arduino.design/images/digital_input.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%kind==&quot;analog&quot;%>">
            <style xsi:type="style:WorkspaceImageDescription" labelFormat="bold" showIcon="false" sizeComputationExpression="6" resizeKind="NSEW" workspacePath="/fr.obeo.dsl.arduino.design/images/analog_input.svg">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <nodeMappings name="HL_OutputModule" labelDirectEdit="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Named%20Element']" domainClass="arduino.OutputModule">
          <style xsi:type="style:WorkspaceImageDescription" labelFormat="bold" showIcon="false" sizeComputationExpression="6" resizeKind="NSEW" workspacePath="/fr.obeo.dsl.arduino.design/images/digital_output.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%kind==&quot;analog&quot;%>">
            <style xsi:type="style:WorkspaceImageDescription" labelFormat="bold" showIcon="false" sizeComputationExpression="6" resizeKind="NSEW" workspacePath="/fr.obeo.dsl.arduino.design/images/analog_output.svg">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <containerMappings name="HL_Platform" deletionDescription="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@toolSections.0/@ownedTools[name='Delete']" labelDirectEdit="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Named%20Element']" domainClass="arduino.Platform" childrenPresentation="List">
          <subNodeMappings name="HD_DigitalPins" deletionDescription="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@toolSections.0/@ownedTools[name='Delete']" labelDirectEdit="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Digital%20Pin']" semanticCandidatesExpression="&lt;%self%>" domainClass="arduino.Platform">
            <style xsi:type="style:SquareDescription" labelFormat="bold" labelExpression="&lt;%digitalPins.nSize()%>" iconPath="/fr.obeo.dsl.arduino.design/images/digital.png" tooltipExpression="Number of digital pins" sizeComputationExpression="1" labelPosition="node">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            </style>
          </subNodeMappings>
          <subNodeMappings name="HD_AnalogPins" deletionDescription="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@toolSections.0/@ownedTools[name='Delete']" labelDirectEdit="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Analog%20Pin']" semanticCandidatesExpression="&lt;%self%>" domainClass="arduino.Platform">
            <style xsi:type="style:SquareDescription" labelFormat="bold" labelExpression="&lt;%analogPins.nSize()%>" iconPath="/fr.obeo.dsl.arduino.design/images/analog.png" tooltipExpression="Number of analog pins" labelPosition="node">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            </style>
          </subNodeMappings>
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="20" arcHeight="20" labelFormat="bold" iconPath="/fr.obeo.dsl.arduino.design/images/platform.png" roundedCorner="true" backgroundStyle="Liquid">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
          </style>
        </containerMappings>
        <toolSections name="Create">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Create Platform" label="Platform" containerMappings="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@containerMappings[name='HL_Platform']" iconPath="/fr.obeo.dsl.arduino.design/images/platform.png">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Platform" referenceName="platform" variableName="platform">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Arduino"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Named Element">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:RemoveElement"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Digital Pin">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%updateDigitalPins($0)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Create Digital Input Module" label="Digital Input" nodeMappings="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@nodeMappings[name='HL_InputModule']" iconPath="/fr.obeo.dsl.arduino.design/images/digital_input.png">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.InputModule" referenceName="modules">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Digital Input Module"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="digital"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Create Digital Output Module" label="Digital Output" nodeMappings="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@nodeMappings[name='HL_OutputModule']" iconPath="/fr.obeo.dsl.arduino.design/images/digital_output.png">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.OutputModule" referenceName="modules">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Digital Output Module"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="digital"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Create Analog Input Module" label="Analog Input" nodeMappings="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@nodeMappings[name='HL_OutputModule']" iconPath="/fr.obeo.dsl.arduino.design/images/analog_input.png">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.InputModule" referenceName="modules">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Analog Input Module"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="analog"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Create Analog Output Module" label="Analog Output" nodeMappings="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']/@defaultLayer/@nodeMappings[name='HL_OutputModule']" iconPath="/fr.obeo.dsl.arduino.design/images/analog_output.png">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.OutputModule" referenceName="modules">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Analog Output Module"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="analog"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Analog Pin">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%updateAnalogPins($0)%>"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentationExtensions xsi:type="description:DiagramExtensionDescription" name="Extended Dashboard" viewpointURI="viewpoint:/fr.obeo.dsl.arduino.design/Arduino" representationName="Dashboard">
      <layers name="Hardware kit" activeByDefault="true">
        <nodeMappings name="Hardware kit" semanticCandidatesExpression="&lt;%self%>" doubleClickDescription="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentationExtensions[name='Extended%20Dashboard']/@layers[name='Hardware%20kit']/@toolSections.0/@ownedTools[name='Hardware%20kit']" domainClass="arduino.Project">
          <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="0" sizeComputationExpression="20" workspacePath="/fr.obeo.dsl.arduino.design/images/hardwareKit.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
        </nodeMappings>
        <toolSections name="Tool">
          <ownedTools xsi:type="tool:DoubleClickDescription" name="Hardware kit" mappings="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentationExtensions[name='Extended%20Dashboard']/@layers[name='Hardware%20kit']/@nodeMappings[name='Hardware%20kit']">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:Navigation" createIfNotExistent="true" diagramDescription="//@ownedViewpoints[name='Hardware%20Kit']/@ownedRepresentations[name='Hardware%20Kit%20Definition']"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </layers>
    </ownedRepresentationExtensions>
    <ownedJavaExtensions qualifiedClassName="fr.obeo.dsl.arduino.design.services.ArduinoServices"/>
  </ownedViewpoints>
  <ownedViewpoints name="Arduino" modelFileExtension="arduino">
    <ownedRepresentations xsi:type="description:DiagramDescription" name="Hardware Sketch" titleExpression="Hardware" domainClass="arduino.Hardware">
      <defaultLayer name="Default">
        <nodeMappings name="HS_Platform" semanticCandidatesExpression="&lt;%platforms%>" domainClass="arduino.Platform">
          <borderedNodeMappings name="HS_DigitalPin" semanticCandidatesExpression="&lt;%digitalPins%>" domainClass="arduino.DigitalPin">
            <style xsi:type="style:SquareDescription" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" showIcon="false" labelExpression="&lt;%id%>" tooltipExpression="Digital pin &lt;%id%>" sizeComputationExpression="2" labelPosition="node" color="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20light%20green']">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </borderedNodeMappings>
          <borderedNodeMappings name="HS_AnalogPin" semanticCandidatesExpression="&lt;%analogPins%>" domainClass="arduino.AnalogPin">
            <style xsi:type="style:SquareDescription" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" showIcon="false" labelExpression="&lt;%id%>" tooltipExpression="Analog pin &lt;%id%>" sizeComputationExpression="2" labelPosition="node">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
            </style>
          </borderedNodeMappings>
          <style xsi:type="style:WorkspaceImageDescription" borderSizeComputationExpression="1" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold" showIcon="false" iconPath="/fr.obeo.dsl.arduino.design/images/platform.png" sizeComputationExpression="20" labelPosition="node" resizeKind="NSEW" workspacePath="imageFromModel">
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
          </style>
        </nodeMappings>
        <nodeMappings name="HS_Module" semanticCandidatesExpression="&lt;%modules%>" domainClass="arduino.Module">
          <style xsi:type="style:WorkspaceImageDescription" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold" showIcon="false" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" sizeComputationExpression="8" workspacePath="imageFromModel"/>
        </nodeMappings>
        <edgeMappings name="Wire" deletionDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Hardware%20Sketch']/@defaultLayer/@toolSections.0/@ownedTools[name='Delete%20Connector']" semanticCandidatesExpression="&lt;%connectors%>" sourceMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Hardware%20Sketch']/@defaultLayer/@nodeMappings[name='HS_Module']" targetMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Hardware%20Sketch']/@defaultLayer/@nodeMappings[name='HS_Platform']/@borderedNodeMappings[name='HS_AnalogPin'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Hardware%20Sketch']/@defaultLayer/@nodeMappings[name='HS_Platform']/@borderedNodeMappings[name='HS_DigitalPin']" targetFinderExpression="&lt;%pin%>" sourceFinderExpression="&lt;%module%>" domainClass="arduino.Connector" useDomainElement="true" reconnections="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Hardware%20Sketch']/@defaultLayer/@toolSections.0/@ownedTools[name='Reconnect%20Connector%20Target'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Hardware%20Sketch']/@defaultLayer/@toolSections.0/@ownedTools[name='Reconnect%20Connector%20Source']">
          <style strokeColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" sourceArrow="OutputArrow" sizeComputationExpression="2">
            <centerLabelStyleDescription showIcon="false" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%self.module.filter(&quot;OutputModule&quot;)%>">
            <style strokeColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" lineStyle="dash" sourceArrow="InputClosedArrow" targetArrow="OutputArrow" sizeComputationExpression="2">
              <centerLabelStyleDescription>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
        </edgeMappings>
        <toolSections name="Tool">
          <ownedTools xsi:type="tool:SelectionWizardDescription" name="Platform" precondition="&lt;%filter(&quot;Hardware&quot;)%>" candidatesExpression="&lt;%getPlatforms()%>" message="Select an hardware platform" iconPath="/fr.obeo.dsl.arduino.design/images/platform.png" windowTitle="Select Platform" windowImagePath="/fr.obeo.dsl.arduino.design/images/platform.png">
            <element name="element"/>
            <containerView name="containerView"/>
            <container name="container"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:Unset" featureName="platforms" elementExpression="&lt;%$container.platforms%>"/>
                <subModelOperations xsi:type="tool:SetValue" featureName="platforms" valueExpression="&lt;%$element%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:SelectionWizardDescription" name="Module" precondition="&lt;%filter(&quot;Hardware&quot;)%>" candidatesExpression="&lt;%getModules()%>" multiple="true" message="Select a hardware modules" iconPath="/fr.obeo.dsl.arduino.design/images/digital.png" windowTitle="Select Platform" windowImagePath="/fr.obeo.dsl.arduino.design/images/digital.png">
            <element name="element"/>
            <containerView name="containerView"/>
            <container name="container"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:For" expression="&lt;%$element.trace()%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="modules" valueExpression="&lt;%$i%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Connector">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:Unset" featureName="pin" elementExpression="&lt;%$elementView.targetNode.target%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ReconnectEdgeDescription" name="Reconnect Connector Target">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="pin" valueExpression="&lt;%$target%>"/>
              </firstModelOperations>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool:ReconnectEdgeDescription" name="Reconnect Connector Source" reconnectionKind="RECONNECT_SOURCE">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="module" valueExpression="&lt;%$target%>"/>
              </firstModelOperations>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Wire" label="Wire" precondition="&lt;%isValidConnector($preTarget)%>" edgeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Hardware%20Sketch']/@defaultLayer/@edgeMappings[name='Wire']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$sourceView.eContainer.target%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Connector" referenceName="connectors" variableName="connector">
                  <subModelOperations xsi:type="tool:SetValue" featureName="pin" valueExpression="&lt;%$target%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="module" valueExpression="&lt;%$source%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <customization>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Hardware%20Sketch']/@defaultLayer/@nodeMappings[name='HS_Platform']/@style //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Hardware%20Sketch']/@defaultLayer/@nodeMappings[name='HS_Module']/@style" attributeName="workspacePath" value="&lt;%getImage()%>"/>
          </vsmElementCustomizations>
        </customization>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description:DiagramDescription" name="Dashboard" initialisation="true" domainClass="arduino.Project">
      <metamodel href="../../fr.obeo.dsl.arduino/model/arduino.ecore#/"/>
      <defaultLayer name="Default">
        <nodeMappings name="Hardware" semanticCandidatesExpression="&lt;%self%>" doubleClickDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Dashboard']/@defaultLayer/@toolSections.0/@ownedTools[name='Hardware']" synchronizationLock="true" domainClass="arduino.Project">
          <style xsi:type="style:WorkspaceImageDescription" labelSize="16" showIcon="false" labelExpression="1" tooltipExpression="Double click to see hardware" sizeComputationExpression="20" workspacePath="/fr.obeo.dsl.arduino.design/images/hardware.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%hardware==null%>">
            <style xsi:type="style:WorkspaceImageDescription" labelSize="16" showIcon="false" labelExpression="1" tooltipExpression="Double click to describe the hardware" sizeComputationExpression="20" workspacePath="/fr.obeo.dsl.arduino.design/images/hardware_invalid.svg">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <nodeMappings name="Sketch" preconditionExpression="&lt;%hardware!=null%>" semanticCandidatesExpression="&lt;%self%>" doubleClickDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Dashboard']/@defaultLayer/@toolSections.0/@ownedTools[name='Sketch']" synchronizationLock="true" domainClass="arduino.Project">
          <style xsi:type="style:WorkspaceImageDescription" labelSize="16" showIcon="false" labelExpression="2" tooltipExpression="Double click to see sketch" sizeComputationExpression="20" workspacePath="/fr.obeo.dsl.arduino.design/images/software.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%sketch&lt;>null%>">
            <style xsi:type="style:WorkspaceImageDescription" labelSize="16" showIcon="false" labelExpression="2" tooltipExpression="Double click to describe the software" sizeComputationExpression="20" workspacePath="/fr.obeo.dsl.arduino.design/images/software_invalid.svg">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%sketch.instructions.next.filter(&quot;Sketch&quot;).nSize==0 || sketch.next==null%>">
            <style xsi:type="style:WorkspaceImageDescription" labelSize="16" showIcon="false" labelExpression="2" tooltipExpression="Double click to describe the software" sizeComputationExpression="20" workspacePath="/fr.obeo.dsl.arduino.design/images/software_invalid.svg">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <nodeMappings name="Upload" preconditionExpression="&lt;%sketch!=null%>" semanticCandidatesExpression="&lt;%self%>" doubleClickDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Dashboard']/@defaultLayer/@toolSections.0/@ownedTools[name='Upload']" domainClass="arduino.Project">
          <style xsi:type="style:WorkspaceImageDescription" labelSize="16" showIcon="false" labelExpression="3" tooltipExpression="Upload sketch on hardware" sizeComputationExpression="20" workspacePath="/fr.obeo.dsl.arduino.design/images/upload.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%sketch.instructions.next.filter(&quot;Sketch&quot;).nSize==0 || next==null%>">
            <style xsi:type="style:WorkspaceImageDescription" labelSize="16" showIcon="false" labelExpression="3" tooltipExpression="The sketch is invalid, double click to open it" sizeComputationExpression="20" workspacePath="/fr.obeo.dsl.arduino.design/images/upload_invalid.svg">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <toolSections>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="Hardware" mappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Dashboard']/@defaultLayer/@nodeMappings[name='Hardware']">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%self.target%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%hardware==null%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Hardware" referenceName="hardware">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Hardware"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%hardware%>">
                  <subModelOperations xsi:type="tool:Navigation" createIfNotExistent="true" diagramDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Hardware%20Sketch']"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="Sketch" mappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Dashboard']/@defaultLayer/@nodeMappings[name='Sketch']">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%self.target%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%sketch==null%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Sketch" referenceName="sketch" variableName="sketch">
                    <subModelOperations xsi:type="tool:SetValue" featureName="hardware" valueExpression="&lt;%eContainer(&quot;Project&quot;).hardware%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Sketch"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%sketch%>">
                  <subModelOperations xsi:type="tool:Navigation" createIfNotExistent="true" diagramDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="Upload" mappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Dashboard']/@defaultLayer/@nodeMappings[name='Upload']">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%sketch.instructions.next.filter(&quot;Sketch&quot;).nSize==0 || sketch.next==null%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%sketch%>">
                    <subModelOperations xsi:type="tool:Navigation" diagramDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%sketch.instructions.next.filter(&quot;Sketch&quot;).nSize>=0 &amp;&amp; sketch.next!=null%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%sketch.upload()%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description:DiagramDescription" name="Sketch" titleExpression="Sketch" domainClass="arduino.Sketch">
      <metamodel href="../../fr.obeo.dsl.arduino/model/arduino.ecore#/"/>
      <defaultLayer name="Default">
        <nodeMappings name="Loop" semanticCandidatesExpression="&lt;%self%>" domainClass="arduino.Sketch">
          <style xsi:type="style:WorkspaceImageDescription" labelFormat="italic" showIcon="false" labelExpression="Loop" hideLabelByDefault="true" workspacePath="/fr.obeo.dsl.arduino.design/images/loop.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%!isValidSketch()%>">
            <style xsi:type="style:WorkspaceImageDescription" labelFormat="italic" showIcon="false" labelExpression="Loop" hideLabelByDefault="true" workspacePath="/fr.obeo.dsl.arduino.design/images/loop_invalid.svg">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <nodeMappings name="Delay" labelDirectEdit="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Delay']" semanticCandidatesExpression="&lt;%instructions%>" domainClass="arduino.Delay">
          <style xsi:type="style:WorkspaceImageDescription" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold_italic" showIcon="false" labelExpression="&lt;%value%>" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" tooltipExpression="Wait &lt;%value+ &quot; &quot; +unit%>" workspacePath="/fr.obeo.dsl.arduino.design/images/delay.svg"/>
        </nodeMappings>
        <nodeMappings name="Status" semanticCandidatesExpression="&lt;%instructions%>" doubleClickDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.0/@ownedTools[name='Change%20Status']" domainClass="arduino.Status">
          <style xsi:type="style:WorkspaceImageDescription" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold_italic" showIcon="false" labelExpression="service:computeStatusLabel" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" sizeComputationExpression="-1" resizeKind="NSEW" workspacePath="imageFromModel"/>
        </nodeMappings>
        <nodeMappings name="Sensor" semanticCandidatesExpression="&lt;%instructions%>" domainClass="arduino.Sensor">
          <style xsi:type="style:WorkspaceImageDescription" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold_italic" showIcon="false" labelExpression="&lt;%module.name%>" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" sizeComputationExpression="-1" resizeKind="NSEW" workspacePath="imageFromModel"/>
        </nodeMappings>
        <nodeMappings name="Level" semanticCandidatesExpression="&lt;%instructions%>" doubleClickDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Level']" domainClass="arduino.Level">
          <style xsi:type="style:WorkspaceImageDescription" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold_italic" showIcon="false" labelExpression="service:computeLevelLabel" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" sizeComputationExpression="-1" resizeKind="NSEW" workspacePath="imageFromModel"/>
        </nodeMappings>
        <nodeMappings name="Variable" labelDirectEdit="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.2/@ownedTools[name='Edit%20Variable']" semanticCandidatesExpression="service:getVariables" doubleClickDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.2/@ownedTools[name='Select%20Variable']" domainClass="arduino.Variable">
          <style xsi:type="style:LozengeNodeDescription" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold" showIcon="false" labelExpression="&lt;%name%>" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelPosition="node" resizeKind="EAST_WEST" color="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20violet']"/>
        </nodeMappings>
        <nodeMappings name="Constant" labelDirectEdit="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.2/@ownedTools[name='Edit%20Constant']" semanticCandidatesExpression="service:getConstants" doubleClickDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.2/@ownedTools[name='Select%20Constant']" domainClass="arduino.Constant">
          <style xsi:type="style:LozengeNodeDescription" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold" showIcon="false" labelExpression="feature:value" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelPosition="node" color="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20red']"/>
        </nodeMappings>
        <edgeMappings name="Link" deletionDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.0/@ownedTools[name='Delete%20Connector']" sourceMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Loop'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Delay'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Status'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Repeat'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Sensor'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='While'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Level'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Set']" targetMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Delay'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Status'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Loop'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Repeat'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='While'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Level'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Set']" targetFinderExpression="service:getInstructions" reconnections="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.0/@ownedTools[name='Reconnect%20Connector%20Source'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.0/@ownedTools[name='Reconnect%20Connector%20Target']">
          <style strokeColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20gray']" sizeComputationExpression="2">
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
          <conditionnalStyles predicateExpression="&lt;%filter(&quot;Sensor&quot;)%>">
            <style strokeColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20gray']" lineStyle="dash" sizeComputationExpression="2">
              <centerLabelStyleDescription>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
        </edgeMappings>
        <edgeMappings name="LinkSetToVariable" preconditionExpression="&lt;%$sourceView.eContainer()==$targetView.eContainer()%>" sourceMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Set']/@subNodeMappings[name='Equal']" targetMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Variable']" targetFinderExpression="feature:variable">
          <style strokeColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20gray']" lineStyle="dash" sourceArrow="InputArrow" targetArrow="NoDecoration" sizeComputationExpression="2" routingStyle="tree">
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="LinkSetToValue" preconditionExpression="&lt;%$sourceView.eContainer()==$targetView.eContainer()%>" sourceMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Set']/@subNodeMappings[name='Equal']" targetMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Variable'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Constant'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='NumericalOperator']" targetFinderExpression="feature:value">
          <style strokeColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20gray']" lineStyle="dash" sizeComputationExpression="2" routingStyle="tree">
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="LinkMathOperatorLeft" preconditionExpression="&lt;%$sourceView.eContainer()==$targetView.eContainer()%>" sourceMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='NumericalOperator']/@subNodeMappings[name='Operator'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']/@subNodeMappings[name='Operator']" targetMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Variable'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='NumericalOperator'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Constant'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']" targetFinderExpression="feature:left">
          <style strokeColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20gray']" lineStyle="dash" sourceArrow="InputArrow" targetArrow="NoDecoration" sizeComputationExpression="2">
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="LinkMathOperatorRight" preconditionExpression="&lt;%$sourceView.eContainer()==$targetView.eContainer()%>" sourceMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='NumericalOperator']/@subNodeMappings[name='Operator'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']/@subNodeMappings[name='Operator']" targetMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Variable'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='NumericalOperator'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Constant'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']" targetFinderExpression="feature:right">
          <style strokeColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20gray']" lineStyle="dash" sizeComputationExpression="2">
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="LinkWhileToCondition" sourceMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='While']" targetMapping="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Sensor']" targetFinderExpression="feature:condition">
          <style strokeColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20gray']" lineStyle="dash" sizeComputationExpression="2" routingStyle="tree">
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="Repeat" labelDirectEdit="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.1/@ownedTools[name='Edit%20Repeat']" semanticCandidatesExpression="&lt;%instructions%>" domainClass="arduino.Repeat" reusedNodeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Delay'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Loop'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Status'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Sensor'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Level']" reusedContainerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Repeat'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='While']">
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="10" arcHeight="10" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold_italic" showIcon="false" labelExpression="Repeat &lt;%self.iteration%>" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" roundedCorner="true" backgroundStyle="Liquid" backgroundColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20white']" foregroundColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20white']">
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <containerMappings name="While" deletionDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.1/@ownedTools[name='Delete%20While']" labelDirectEdit="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.1/@ownedTools[name='Edit%20While']" semanticCandidatesExpression="&lt;%instructions%>" domainClass="arduino.While" reusedNodeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Delay'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Sensor'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Status'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Level']" reusedContainerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Repeat'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='While'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Set'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']">
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="10" arcHeight="10" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold_italic" showIcon="false" labelExpression="service:computeLabel" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" roundedCorner="true" backgroundStyle="Liquid" backgroundColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20white']" foregroundColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20white']">
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <containerMappings name="Set" deletionDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.2/@ownedTools[name='Delete%20Set']" semanticCandidatesExpression="feature:instructions" domainClass="arduino.Set" reusedNodeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Variable'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Constant'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Sensor']" reusedContainerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='NumericalOperator'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']">
          <subNodeMappings name="Equal" semanticCandidatesExpression="var:self" domainClass="arduino.Set">
            <style xsi:type="style:EllipseNodeDescription" borderSizeComputationExpression="1" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold" showIcon="false" labelExpression="=" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelPosition="node" color="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20light%20blue']"/>
          </subNodeMappings>
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="10" arcHeight="10" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold_italic" showIcon="false" labelExpression="service:computeLabel" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" roundedCorner="true" backgroundStyle="Liquid" backgroundColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20light%20blue']" foregroundColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20light%20blue']">
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <containerMappings name="NumericalOperator" deletionDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.2/@ownedTools[name='Delete%20MathOperator']" semanticCandidatesExpression="service:getNumericalOperators" domainClass="arduino.NumericalOperator" reusedNodeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Variable'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Constant']" reusedContainerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='NumericalOperator']">
          <subNodeMappings name="Operator" semanticCandidatesExpression="var:self" domainClass="arduino.NumericalOperator">
            <style xsi:type="style:EllipseNodeDescription" borderSizeComputationExpression="1" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold" showIcon="false" labelExpression="&lt;%operator.computeLabel()%>" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelPosition="node" color="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20light%20green']"/>
          </subNodeMappings>
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="10" arcHeight="10" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold_italic" showIcon="false" labelExpression="service:computeLabel" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" roundedCorner="true" backgroundStyle="Liquid" backgroundColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20light%20green']" foregroundColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20light%20green']">
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <containerMappings name="BooleanOperator" preconditionExpression="&lt;%filter(&quot;Sensor&quot;).nSize==0%>" deletionDescription="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@toolSections.2/@ownedTools[name='Delete%20MathOperator']" semanticCandidatesExpression="&lt;%getBooleanOperators()%>" domainClass="arduino.BooleanOperator" reusedNodeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Variable'] //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Constant']" reusedContainerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']">
          <subNodeMappings name="Operator" semanticCandidatesExpression="var:self" domainClass="arduino.BooleanOperator">
            <style xsi:type="style:EllipseNodeDescription" borderSizeComputationExpression="1" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold" showIcon="false" labelExpression="&lt;%operator.computeLabel()%>" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelPosition="node" color="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20green']"/>
          </subNodeMappings>
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="10" arcHeight="10" borderColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" labelFormat="bold_italic" showIcon="false" labelExpression="service:computeLabel" labelColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20dark%20gray']" roundedCorner="true" backgroundStyle="Liquid" backgroundColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20green']" foregroundColor="//@userColorsPalettes[name='Arduino%20Palette']/@entries[name='Arduino%20green']">
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <toolSections name="Tool">
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Delay" nodeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Delay']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Delay" referenceName="instructions" variableName="delay">
                  <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="100"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container.getLastInstruction()%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="next" valueExpression="var:delay"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Status" label="On/Off module" nodeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Status']">
            <variable name="container">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="modules" candidatesExpression="&lt;%$container.eContainer(&quot;Sketch&quot;).getConnectedModules().filter(&quot;OutputModule&quot;)%>" multiple="true" message="Select modules"/>
            </variable>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:For" expression="&lt;%$modules%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Status" referenceName="instructions" variableName="status">
                      <subModelOperations xsi:type="tool:SetValue" featureName="module" valueExpression="&lt;%$i%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;).getLastInstruction()%>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="next" valueExpression="var:status"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Connector" edgeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@edgeMappings[name='Link']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="var:source">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Sensor&quot;)&amp;&amp;$target(&quot;Status&quot;)%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:target">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sensor" valueExpression="var:source"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $source.filter(&quot;Sensor&quot;)%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="next" valueExpression="&lt;%$target%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Sensor&quot;)&amp;&amp;$target(&quot;While&quot;)%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:target">
                    <subModelOperations xsi:type="tool:SetValue" featureName="condition" valueExpression="var:source"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Connector">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:Unset" featureName="next" elementExpression="&lt;%$elementView.targetNode.target%>"/>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.targetNode.target%>">
                  <subModelOperations xsi:type="tool:Unset" featureName="sensor" elementExpression="&lt;%$elementView.sourceNode.target%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ReconnectEdgeDescription" name="Reconnect Connector Target">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="next" valueExpression="&lt;%$target%>"/>
                <subModelOperations xsi:type="tool:Unset" featureName="next" elementExpression="&lt;%$source.next%>"/>
              </firstModelOperations>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool:ReconnectEdgeDescription" name="Reconnect Connector Source" reconnectionKind="RECONNECT_SOURCE">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$target%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="next" valueExpression="&lt;%$source.next%>"/>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                  <subModelOperations xsi:type="tool:Unset" featureName="next" elementExpression="&lt;%$source.next%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="Change Status" mappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Status']">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="status" valueExpression="&lt;%!status%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Delay">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%self%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="&lt;%$0%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="Upload">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.upload()%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Sensor" nodeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Sensor']">
            <variable name="container">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="module" candidatesExpression="&lt;%$container.eContainer(&quot;Sketch&quot;).getConnectedModules().filter(&quot;InputModule&quot;)%>" message="Select sensors"/>
            </variable>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container.eContainer(&quot;Sketch&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Sensor" referenceName="instructions" variableName="sensor">
                  <subModelOperations xsi:type="tool:SetValue" featureName="module" valueExpression="var:module"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$container.filter(&quot;Set&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                      <subModelOperations xsi:type="tool:SetValue" featureName="variable" valueExpression="var:sensor"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Level" label="Level module" nodeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Level']">
            <variable name="container">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="modules" candidatesExpression="&lt;%$container.eContainer(&quot;Sketch&quot;).getConnectedModules().filter(&quot;OutputModule&quot;)[level==true]%>" multiple="true" message="Select modules"/>
            </variable>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:For" expression="&lt;%$modules%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Level" referenceName="instructions" variableName="level">
                      <subModelOperations xsi:type="tool:SetValue" featureName="module" valueExpression="&lt;%$i%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;).getLastInstruction()%>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="next" valueExpression="var:level"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="Edit Level" mappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Level']">
            <element name="element">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="level" candidatesExpression="&lt;%eContainer(&quot;Sketch&quot;).eAllContents(&quot;Value&quot;)[filter(&quot;Variable&quot;)||filter(&quot;Constant&quot;)]+eContainer(&quot;Sketch&quot;).getConnectedModules().filter(&quot;InputModule&quot;)[kind==&quot;analog&quot;]%>" message="Select level"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="var:element">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$element.level.filter(&quot;Sensor&quot;)%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.level%>">
                    <subModelOperations xsi:type="tool:RemoveElement"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$level.filter(&quot;InputModule&quot;)%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Sensor" referenceName="instructions" variableName="sensor">
                      <subModelOperations xsi:type="tool:SetValue" featureName="module" valueExpression="var:level"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:element">
                        <subModelOperations xsi:type="tool:SetValue" featureName="level" valueExpression="var:sensor"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:SetValue" featureName="next" valueExpression="var:element"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$level.filter(&quot;Variable&quot;)||$level.filter(&quot;Constant&quot;)%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="level" valueExpression="var:level"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Controls">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Repeat" containerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Repeat']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Repeat" referenceName="instructions"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Repeat" inputLabelExpression="&lt;%iteration%>">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%self%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="iteration" valueExpression="&lt;%$0%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="While" containerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='While']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.While" referenceName="instructions"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit While">
            <mask mask="While {0} {1} {2}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%editLabel(eContainer(&quot;Sketch&quot;), $0,$1,$2)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete While">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="var:element">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="feature:condition">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:element">
                    <subModelOperations xsi:type="tool:RemoveElement"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="service:deleteUnusedValues"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Variables">
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Set">
            <mask mask="Set {0} = {1}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%editLabel(eContainer(&quot;Sketch&quot;), $0,$1)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Set">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="var:element">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:element">
                    <subModelOperations xsi:type="tool:RemoveElement"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="service:deleteUnusedValues"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="Select Variable" mappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Variable']">
            <element name="element">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="variable" candidatesExpression="&lt;%eContainer(&quot;Sketch&quot;).eAllContents(&quot;Variable&quot;)%>" message="Select an existing variable"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="var:element">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$elementView.eContainer().target.filter(&quot;Set&quot;)%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%~variable.filter(&quot;Set&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%~variable[self==$elementView.eContainer().target]%>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="variable" valueExpression="var:variable"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$elementView.eContainer().target.filter(&quot;MathOperator&quot;)%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%~left.filter(&quot;MathOperator&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%~left[self==$elementView.eContainer().target]%>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:variable"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%~right.filter(&quot;MathOperator&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%~right[self==$elementView.eContainer().target]%>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="var:variable"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;).deleteUnusedValues()%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Variable" nodeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Variable']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Variable" referenceName="instructions" variableName="variable">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="var&lt;%eContainer(&quot;Sketch&quot;).instructions.filter(&quot;Variable&quot;).nSize%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;MathOperator&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right==null%>">
                        <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="var:variable"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right==null%>">
                        <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:variable"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right!=null%>">
                        <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="&lt;%eContainer(&quot;Sketch&quot;).eAllContents(&quot;Constant&quot;)[value==&quot;0&quot;].nFirst%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;Set&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                      <subModelOperations xsi:type="tool:SetValue" featureName="variable" valueExpression="var:variable"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Constant" nodeMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Constant']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%eAllContents(&quot;Constant&quot;)[value==&quot;0&quot;].nSize==0%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Constant" referenceName="instructions" variableName="constant">
                    <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="&lt;%&quot;0&quot;%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eAllContents(&quot;Constant&quot;)[value==&quot;0&quot;]%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;MathOperator&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="&lt;%eContainer(&quot;Sketch&quot;).eAllContents(&quot;Constant&quot;)[value==&quot;0&quot;].nFirst%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="&lt;%eContainer(&quot;Sketch&quot;).eAllContents(&quot;Constant&quot;)[value==&quot;0&quot;].nFirst%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="&lt;%eContainer(&quot;Sketch&quot;).eAllContents(&quot;Constant&quot;)[value==&quot;0&quot;].nFirst%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;Set&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="&lt;%eContainer(&quot;Sketch&quot;).eAllContents(&quot;Constant&quot;)[value==&quot;0&quot;].nFirst%>"/>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;Level&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="level" valueExpression="&lt;%eContainer(&quot;Sketch&quot;).eAllContents(&quot;Constant&quot;)[value==&quot;0&quot;].nFirst%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Variable">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="var:0"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Constant">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="var:self">
                <subModelOperations xsi:type="tool:For" expression="&lt;%~right%>" iteratorName="operator">
                  <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="&lt;%eContainer(&quot;Sketch&quot;).createConstant($0)%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:For" expression="&lt;%~left%>" iteratorName="operator">
                  <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="&lt;%eContainer(&quot;Sketch&quot;).createConstant($0)%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:For" expression="&lt;%~variable%>" iteratorName="set">
                  <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="&lt;%eContainer(&quot;Sketch&quot;).createConstant($0)%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete MathOperator">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="var:element">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:element">
                    <subModelOperations xsi:type="tool:RemoveElement"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="service:deleteUnusedValues"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="Select Constant" mappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Constant']">
            <element name="element">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="variable" candidatesExpression="&lt;%eContainer(&quot;Sketch&quot;).eAllContents(&quot;Constant&quot;)%>" message="Select an existing variable"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="var:element">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$elementView.eContainer().target.filter(&quot;Set&quot;)%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%~value.filter(&quot;Set&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%~value[self==$elementView.eContainer().target]%>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="var:variable"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$elementView.eContainer().target.filter(&quot;MathOperator&quot;)%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%~left.filter(&quot;MathOperator&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%~left[self==$elementView.eContainer().target]%>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:variable"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%~right.filter(&quot;MathOperator&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%~right[self==$elementView.eContainer().target]%>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="var:variable"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;).deleteUnusedValues()%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Set" containerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Set']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.Set" referenceName="instructions"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="MathOperator">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Equal" label="=" precondition="&lt;%$container.filter(&quot;While&quot;)||$container.filter(&quot;BooleanOperator&quot;)%>" containerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.BooleanOperator" referenceName="instructions" variableName="operator">
                  <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="equal"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;MathOperator&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;Set&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;While&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="condition" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="service:deleteUnusedValues"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Upper" label=">" containerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.BooleanOperator" referenceName="instructions" variableName="operator">
                  <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="upper"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;MathOperator&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;Set&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;While&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="condition" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="service:deleteUnusedValues"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="UpperOrEqual" label=">=" containerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.BooleanOperator" referenceName="instructions" variableName="operator">
                  <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="upperOrEqual"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;MathOperator&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;Set&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;While&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="condition" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="service:deleteUnusedValues"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Lower" label="&lt;" containerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.BooleanOperator" referenceName="instructions" variableName="operator">
                  <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="lower"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;MathOperator&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;Set&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;While&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="condition" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="service:deleteUnusedValues"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="LowerOrEqual" label="&lt;=" containerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='BooleanOperator']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.BooleanOperator" referenceName="instructions" variableName="operator">
                  <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="lowerOrEqual"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;MathOperator&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;Set&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;While&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="condition" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="service:deleteUnusedValues"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Plus" label="+" containerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='NumericalOperator']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.NumericalOperator" referenceName="instructions" variableName="operator">
                  <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="plus"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;MathOperator&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;Set&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="service:deleteUnusedValues"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Minus" label="-" containerMappings="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='NumericalOperator']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%eContainer(&quot;Sketch&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="arduino.NumericalOperator" referenceName="instructions" variableName="operator">
                  <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="minus"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;MathOperator&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="right" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right==null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left==null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%left!=null &amp;&amp; right!=null%>">
                          <subModelOperations xsi:type="tool:SetValue" featureName="left" valueExpression="var:operator"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%filter(&quot;Set&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="var:container">
                        <subModelOperations xsi:type="tool:SetValue" featureName="value" valueExpression="var:operator"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="service:deleteUnusedValues"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <customization>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Status']/@style //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Sensor']/@style //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Level']/@style" attributeName="workspacePath" value="/fr.obeo.dsl.arduino.design/images/&lt;%module.image%>"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="&lt;%next==null%>">
            <featureCustomizations xsi:type="description:EReferenceCustomization" appliedOn="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Delay']/@style //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='Repeat']/@style //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Status']/@style //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Sensor']/@style //@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@containerMappings[name='While']/@style" referenceName="labelColor">
              <value href="environment:/viewpoint#//@systemColors/@entries[name='red']"/>
            </featureCustomizations>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="&lt;%status==null%>">
            <featureCustomizations xsi:type="description:EReferenceCustomization" appliedOn="//@ownedViewpoints[name='Arduino']/@ownedRepresentations[name='Sketch']/@defaultLayer/@nodeMappings[name='Sensor']/@style" referenceName="labelColor">
              <value href="environment:/viewpoint#//@systemColors/@entries[name='red']"/>
            </featureCustomizations>
          </vsmElementCustomizations>
        </customization>
      </defaultLayer>
    </ownedRepresentations>
    <ownedJavaExtensions qualifiedClassName="fr.obeo.dsl.arduino.design.services.ArduinoServices"/>
    <ownedJavaExtensions qualifiedClassName="fr.obeo.dsl.arduino.utils.ArduinoServices"/>
  </ownedViewpoints>
  <userColorsPalettes name="Arduino Palette">
    <entries xsi:type="description:UserFixedColor" red="231" green="191" blue="188" name="Arduino red"/>
    <entries xsi:type="description:UserFixedColor" red="157" green="214" blue="210" name="Arduino blue"/>
    <entries xsi:type="description:UserFixedColor" red="202" green="236" blue="243" name="Arduino light blue"/>
    <entries xsi:type="description:UserFixedColor" red="160" green="214" blue="179" name="Arduino green"/>
    <entries xsi:type="description:UserFixedColor" red="235" green="242" blue="187" name="Arduino light green"/>
    <entries xsi:type="description:UserFixedColor" red="201" green="183" blue="203" name="Arduino violet"/>
    <entries xsi:type="description:UserFixedColor" red="240" green="242" blue="220" name="Arduino white"/>
    <entries xsi:type="description:UserFixedColor" red="135" green="121" blue="111" name="Arduino gray"/>
    <entries xsi:type="description:UserFixedColor" red="120" green="113" blue="113" name="Arduino dark gray"/>
    <entries xsi:type="description:UserFixedColor" red="149" green="186" blue="192" name="Arduino dark blue"/>
  </userColorsPalettes>
</description:Group>
